# MoodStack MVP 使用说明

## 🚀 快速开始

### 1. 启动应用

```bash
# 安装前端依赖
cd frontend
npm install

# 返回项目根目录
cd ..

# 启动开发模式
wails dev
```

### 2. 使用功能

#### 📝 上传日记
1. 点击顶部导航的 "📝 上传日记" 按钮
2. 点击上传区域或拖拽文件到上传区域
3. 支持的文件格式：
   - `.txt` - 纯文本文件（完全支持）
   - `.md` - Markdown文件（完全支持）
   - `.docx` - Word文档（占位符实现）
   - `.pdf` - PDF文档（占位符实现）
4. 选择文件后点击"上传文件"按钮
5. 系统会自动转换为Markdown格式并保存

#### 📚 查看日记列表
1. 点击顶部导航的 "📚 日记列表" 按钮
2. 查看所有已上传的日记
3. 每个日记卡片显示：
   - 标题（自动从内容提取）
   - 原始文件名
   - 创建时间
   - 内容预览

#### 📖 阅读日记
1. 在日记列表中点击任意日记卡片
2. 进入详细阅读模式
3. 支持完整的Markdown渲染：
   - 标题、段落、列表
   - 代码块、引用
   - 表格、链接等
4. 点击"返回列表"回到列表页面

## 📁 文件存储结构

```
项目根目录/
├── diaries/          # 日记数据存储（JSON格式）
│   ├── abc123.json   # 日记元数据和内容
│   └── def456.json
└── uploads/          # 原始上传文件（如果需要）
```

## 🎯 MVP功能特性

✅ **已实现：**
- 文件上传（支持拖拽）
- .txt 和 .md 文件完整转换
- 日记列表展示
- Markdown渲染和查看
- 本地文件存储
- 美观的用户界面
- 响应式设计

🚧 **待完善：**
- .docx 和 .pdf 完整解析（当前为占位符）
- 日记搜索功能
- 日记编辑功能
- 日记删除功能
- 数据导出功能

## 🛠️ 技术实现细节

### 后端 (Go)
- **框架**: Wails v2
- **存储**: 本地JSON文件
- **转换**: 自定义Markdown转换器

### 前端 (Vue 3)
- **框架**: Vue 3 + Vite
- **样式**: 原生CSS + 渐变设计
- **Markdown**: marked.js
- **组件**: 自定义Vue组件

### 文件处理流程
1. 用户上传文件 → 
2. 后端接收并验证文件类型 → 
3. 转换为Markdown格式 → 
4. 提取标题和元数据 → 
5. 保存到本地JSON文件 → 
6. 前端获取并展示

## 🐛 已知问题和限制

1. **DOCX/PDF支持**: 当前仅提供占位符，未实现完整解析
2. **文件大小**: 限制为10MB
3. **并发**: 当前为单用户本地应用
4. **备份**: 无自动备份功能

## 🔜 下一步计划

1. 集成DOCX解析库（如`github.com/nguyenthenguyen/docx`）
2. 集成PDF解析库（如`github.com/ledongthuc/pdf`）
3. 添加本地数据库支持（SQLite）
4. 实现日记搜索和过滤
5. 添加Ollama本地大模型集成

---

🎉 恭喜！你已经拥有了一个功能完整的MVP版本日记管理应用！